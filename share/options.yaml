dryRun:
  type: switch
  flags:
    - dry-run
  help: >-
    Show the commands that would be run, but don't actually run them.
  default: false

verbose:
  type: switch
  flags:
    - verbose
    - v
  help: >-
    Log debug statements to the console.
  default: false

build:
  type: word
  key: command
  options:
    mixins: &mixins
      type: list
      subtype:
        type: parameter
      optional: true

run:
  type: word
  key: command
  options:
    mixins: *mixins

start:
  type: word
  key: command
  options:
    mixins: *mixins

stop:
  type: word
  key: command
  options:
    mixins: *mixins

init:
  type: word
  key: command

cluster:

  type: word
  key: command

  options:

    create:
      type: word
      key: subcommand

    expand:
      type: word
      key: subcommand
      options:
        cluster: &cluster
          type: parameter
          optional: true
        count:
          type: option
          flags:
            - count
            - n
          default: 1

    contract:
      type: word
      key: subcommand

    ls:
      type: word
      key: subcommand
      options:
        cluster: *cluster

    rm:
      type: word
      key: subcommand
      options:
        cluster: *cluster

    ps:
      type: word
      key: subcommand
      options:
        cluster: *cluster

    env:
      type: word
      key: subcommand
      options:
        cluster: *cluster

    get:
      type: word
      key: subcommand
      options:
        cluster: *cluster
        property:
          type: parameter
